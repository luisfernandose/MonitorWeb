@model Queue.ViewModels.TimePerActivityViewModel
@{ ViewBag.Title = "Reporte"; }

<h2>Reporte Sumado por Actividad</h2>

@using (Html.BeginForm("TimePerActivity", "Operation", FormMethod.Post, new { id = "frm_register" }))
{
    <div class="row">
        <div class="col-lg-3">
            <div class="form-group">
                @Html.LabelFor(model => model.from, htmlAttributes: new { @class = "control-label col-md-12" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.from, new { htmlAttributes = new { @class = "form-control", @type = "date" } })
                    @Html.ValidationMessageFor(model => model.from, "", new { @class = "text-danger" })
                </div>
            </div>
        </div>
        <div class="col-lg-3">
            <div class="form-group">
                @Html.LabelFor(model => model.to, htmlAttributes: new { @class = "control-label col-md-12" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.to, new { htmlAttributes = new { @class = "form-control", @type = "date" } })
                    @Html.ValidationMessageFor(model => model.to, "", new { @class = "text-danger" })
                </div>
            </div>
        </div>

        <div class="col-lg-3">
            <label asp-for="idgroup" class="control-label">Grupos</label>
            <span asp-validation-for="idgroup" class="text-danger"></span>
            @Html.DropDownList("idgruoup", null, htmlAttributes: new { @class = "form-control", autocomplete = "off" })
            <br />
        </div>

        <div class="col-lg-3">
            <label>Empleados</label>
            <div class="input-group">
                @Html.DropDownList("user", null, htmlAttributes: new { @class = "form-control", autocomplete = "off" })
                @*@Html.DropDownList("ddlUsers", ListUser, "", new { @class = "form-control select2", style = "width:100%;" })*@
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-10">
        </div>
        <div class="col-lg-2">
            <br />
            <div class="d-flex flex-row-reverse">
                <button id="add_Employee" name="add_dictionary" type="submit" value="Create" class="btn btn-info waves-effect waves-light btn-block">
                    Filtrar
                </button>
            </div>
        </div>
    </div>
}

<div class="col-12 col-lg-12">
    <div class="box">
        <div class="box-header with-border">
            <h4 class="box-title">Detalle por aplicación</h4>
            @*<h6 class="box-subtitle">List of ticket opend by customers</h6>*@
        </div>
        <div class="box-body p-15">
            <div class="table-responsive">
                <table id="myTable" class="table mt-0 table-hover no-wrap table-bordered" data-page-size="10">
                    <thead>
                        <tr>
                            <th>Aplicación</th>
                            <th>Horas de Uso</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model.activities.OrderByDescending(o => o.time))
                        {
                            <tr>
                                <td>@item.program</td>
                                <td>@item.time.ToString("0.0#")</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>


@section Scripts {
    <script src="https://cdn.datatables.net/buttons/1.2.2/js/dataTables.buttons.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/1.2.2/js/buttons.flash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/2.5.0/jszip.min.js"></script>
    <script src="https://cdn.rawgit.com/bpampuch/pdfmake/0.1.18/build/pdfmake.min.js"></script>
    <script src="https://cdn.rawgit.com/bpampuch/pdfmake/0.1.18/build/vfs_fonts.js"></script>
    <script src="https://cdn.datatables.net/buttons/1.2.2/js/buttons.html5.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/1.2.2/js/buttons.print.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.min.js"></script>
    <script type="text/javascript" src="https://html2canvas.hertzen.com/dist/html2canvas.js"></script>
    <script src="~/assets/plugins/general/moment/min/moment.min.js" type="text/javascript"></script>
    <script>$('#myTable').DataTable();</script>
}
